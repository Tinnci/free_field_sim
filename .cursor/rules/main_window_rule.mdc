---
description: 
globs: *.py
alwaysApply: false
---
\
---
title: "Main GUI Window"
files: ["[src/gui/main_window.py](mdc:src/gui/main_window.py)"]
---

`main_window.py` 文件定义了声学仿真工具的主用户界面 (GUI)。它使用 PySide6 构建，并集成了 Matplotlib 和 PyVista 用于绘图。

主要功能包括：
- 设置仿真参数（房间尺寸、RT60、信号时长）。
- 管理声源和麦克风（添加、编辑、移除，支持详细参数化，结构化对象管理）。
- 运行声学仿真。
- 以选项卡形式显示结果：
    - 3D 场景 (使用 PyVista，支持对象点击拾取)。
    - 房间冲激响应 (RIR)。
    - 时域信号。
    - 频域信号 (FFT)。
- 保存和加载仿真配置（支持详细参数结构，默认目录为 configs/ ，已支持版本号字段）。
- 支持对象点击拾取与属性显示，3D属性面板已采用专用按钮进行编辑。
- 新增3D视角重置按钮，提升交互体验。
- 初始化顺序与数据结构已优化，避免常见错误。

## GUI 交互与用户体验优化建议

- 属性面板的"编辑"操作已采用专用按钮，提升用户体验和可维护性。
- 3D对象拾取距离阈值（如0.15m/0.12m）可考虑与对象尺寸或场景自适应，或在设置中暴露为可调参数。
- 若用户移除所有声源/麦克风，当前会自动补充默认对象。可考虑在设置中增加"允许无对象"选项，提升灵活性。









