---
description: 
globs: *.py
alwaysApply: false
---
# 项目下一步目标（2024.6 更新）

## 当前状态 (回顾)
- 已实现：
  - PySide6 GUI 框架，嵌入 Matplotlib 实现的2D信号图 (RIR/时域/频域)。
  - 3D场景已迁移至 PyVista (`QtInteractor`)，支持嵌入式GUI显示和对象拾取。
  - GUI支持动态增删声源/麦克风（可配置独立信号类型和参数）。
  - 支持仿真配置的保存与加载 (JSON格式，包含房间/声源/麦克风位置等基础参数，已支持版本号)。
  - 声源参数化、麦克风参数化、PyVista基础交互、3D属性面板按钮编辑、3D视角重置、ground truth选择、评估指标扩展、帮助菜单、滤波器阶数参数化等已实现。

## 下一步详细计划（2024.6）

### 1. 多声源信号展示与评估增强
- 支持RIR多源多麦克风选择展示。
- 评估函数扩展为多源混合或分源评估。

### 2. 配置管理体验优化
- 增强配置文件管理体验（如最近使用、批量导入导出等）。
- 配置文件格式升级：分层字典结构+版本号，兼容未来扩展。

### 3. 3D可视化与用户体验增强
- 3D视图对象高亮（受限于QtInteractor）、属性面板美化、视角重置等。
- 优化3D交互体验。

### 4. 持续完善输入校验与文档
- 更严格的输入校验与错误提示。
- 持续完善用户文档和开发注释。

### 5. 代码一致性与用户体验持续优化
- 集中管理全局常量和Matplotlib字体设置，提升维护性。
- 优化属性面板编辑交互，提升易用性。
- 增强输入校验与异常提示，提升健壮性。
- 持续完善文档和示例配置，便于新用户快速上手。

---

## 技术选型回顾与建议

- **3D可视化**: 已从Matplotlib迁移到 **PyVista (`QtInteractor`)**，实现了GUI嵌入。后续利用其高级交互和渲染能力。
    - 相关文件: [src/visualization3d.py](mdc:src/visualization3d.py), [src/gui/main_window.py](mdc:src/gui/main_window.py)
- **2D可视化**: 继续使用 Matplotlib 嵌入GUI。
- **GUI框架**: PySide6。
- **核心仿真**: [pyroomacoustics](mdc:src/simulation.py)。

---

如需具体模块设计、参数面板示例、特定功能实现代码等，可随时查阅本规则或补充新规则。






